# 开发日志

-   2025/11/7 终于把工具链配齐了，虽然很艰辛，但是很有成就感
-   2025/11/8 能在 qemu 的命令行上自定义输出了，是一件非常开心的事
-   2025/11/9 今天遇到了很多环境上的 bug，虽然大体上解决了，但还是有一点点
-   2025/11/10 把所有 bug 解决了，完成了 test 模块的大部分
-   2025/11/11 今天做的事不多，仅添加了一点测试，还未完全把 tests 模块分离出来
-   2025/11/12 又稍稍整理下代码组织结构，写了一点 should_panic 的测试
-   2025/11/13 今天啥事没干，刷 leetcode 去了
-   2025/11/15 中断尝鲜，写了一点 interrupt 的代码，当然现在还没有现象
-   2025/11/16 - 2025/11/17 - 2025/11/18 - 2025/11/19 这四天刷 leetcode 去了，这里暂时搁置了
-   2025/11/20 加了一点测试
-   2025/11/21 把加入的测试完善了一下
-   2025/11/22 添加了二层异常处理的代码和相关测试
-   2025/11/23 刷 leetcode 去了，这里暂时搁置了
-   2025/11/24 今天也在刷 leetcode
-   2025/11/25 创建了一下 TSS，还有 bug，明天修复
-   2025/11/26 修复了 TSS 相关的 bug， double fault 的处理函数完善完毕，添加了相关的测试
-   2025/11/27 复习计算机网络，应付明天期末考试
-   2025/11/28 考完期末，今天刷了点 leetcode，这里没管
-   2025/11/29 今天了解了一下硬件中断的工作原理，初始设定了主副 PIC 的中断向量偏移量
-   2025/11/30 刷了点 leetcode，这里没管
-   2025/12/1 尝试实现了定时器中断的处理函数，目前还有 bug，明天继续修复
-   2025/12/2 刷了点 leetcode
-   2025/12/3 修复了定时器中断的 bug，修复了竞态条件以及写了 hlt_loop 函数
-   2025/12/4 正在实现键盘中断的处理函数，目前只能打印扫描码对应的 0~9 的数字
-   2025/12/5 完整实现了键盘中断的处理函数，硬件中断的处理函数完善完毕
-   2025/12/6 了解了一下 OS 内存保护相关的知识，包括分页、虚拟内存等
-   2025/12/7 今天刷 leetcode 以及期末复习去了，明天考期末
-   2025/12/8 考完期末，今天继续刷 leetcode，这里没管
-   2025/12/9 今天继续刷 leetcode，学到动态规划了
-   2025/12/11 今天把分页保护 page fault 处理函数写了一下，初步实现了分页保护
-   2025/12/12 学习了访问页表的不同映射方式，支持引导器来代替 \_start 函数
-   2025/12/13 实现了翻译地址，使用 OffsetPageTable 来访问页表，创建了一个新的映射并分配页框
-   2025/12/13 初步实现了堆，支持了简单的分配和释放
-   2025/12/14 用三种方法实现了堆分配器，分别是 bump allocator、 linked list allocator、 fixed size block allocator
-   2025/12/14 完成了任务调度器的实现，支持了任务切换，包括任务创建、任务切换、任务等待、任务唤醒等功能。而且把键盘中断的处理函数也集成到了任务调度器中，实现了任务的并发执行。

---

# 致读者的话

-   这是我第一次用 rust 写操作系统，也是我第一次用 rust 写一个比较复杂的项目。
-   在这个项目中，我学习了很多操作系统的知识，包括但不限于分页、虚拟内存、任务调度、中断处理等。
-   但是，毕竟我也是照着 phil Opp's blog 来写的，所以代码基本上是照抄的状态。
-   而且有很多很多知识点我都是一知半解，是属于那种理解但又没有完全掌握的状态。
-   目前 phil Opp's 的更新更到这里，后续的就没有再更新了。
-   我想着，后续我会继续完善这个项目，添加更多的功能，但是介于自己能力与时间的限制，我只能先到这里了。
-   虽然我仅仅只是照抄了 phil Opp's blog 中的代码，但是我在代码中添加了很多注释，试图解释每一行代码的作用。以供后来的人们参考学习
-   嗯，就这样吧，先到这里了。
